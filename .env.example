# =============================================================================
# Google Contacts Downloader - Environment Configuration
# =============================================================================
# Copy this file to .env and configure the variables for your deployment
# For production use, ensure all security-related variables are properly set
# =============================================================================

# -----------------------------------------------------------------------------
# Domain Configuration (for Traefik/Production)
# -----------------------------------------------------------------------------
# For local development, use localhost
# For production, replace with your actual domain name
DOMAIN=localhost

# -----------------------------------------------------------------------------
# Database & Encryption (REQUIRED)
# -----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# Host where PostgreSQL server is running
# Default: 127.0.0.1 (local development), postgres (Docker Compose)
POSTGRES_HOST=127.0.0.1

# PostgreSQL server port
# Default: 5432
POSTGRES_PORT=5432

# PostgreSQL database name
# Default: contacts_calendar_downloader
POSTGRES_DB=contacts_calendar_downloader

# PostgreSQL username
# Default: postgres
POSTGRES_USER=postgres

# PostgreSQL password
# REQUIRED: Set a secure password for database access
POSTGRES_PASSWORD=your-secure-postgres-password

# AES-256 Encryption key for database security
# Generate a secure key using: python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# IMPORTANT: Keep this key secure and backed up - losing it means losing access to encrypted data
# REQUIRED for production (using default "secret" will show security warnings)
ENCRYPTION_KEY=your-encryption-key-here

# -----------------------------------------------------------------------------
# OAuth Credentials (REQUIRED)
# -----------------------------------------------------------------------------
# Path to Google OAuth 2.0 credentials JSON file
# Obtain from: https://console.cloud.google.com/apis/credentials
GOOGLE_CREDENTIALS=credentials/google.json

# Path to Microsoft OAuth 2.0 credentials JSON file (optional if using Microsoft provider)
# Obtain from: https://portal.azure.com/
MICROSOFT_CREDENTIALS=credentials/microsoft.json

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Server host for redirect URI generation
# Default: localhost
HOST=localhost

# Server port for redirect URI generation
# Default: 5000
PORT=5000

# Protocol for redirect URI generation (http or https)
# Default: http (local development), https (production)
PROTOCOL=http

# -----------------------------------------------------------------------------
# OAuth Redirect URIs (Optional - for production/reverse proxy)
# -----------------------------------------------------------------------------
# Override Google OAuth redirect URI
# Example: https://your-domain.com/oauth2callback
# GOOGLE_OAUTH_REDIRECT_URI=

# Override Microsoft OAuth redirect URI
# Example: https://your-domain.com/oauth2callback
# MICROSOFT_OAUTH_REDIRECT_URI=

# -----------------------------------------------------------------------------
# Flask Configuration
# -----------------------------------------------------------------------------
# Flask session secret key (auto-generated if not set)
# For production, set a strong random value to persist across restarts
# FLASK_SECRET_KEY=

# Flask environment (not used by code, but kept for Docker compatibility)
FLASK_ENV=production

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
# Google People API fields to request (comma-separated)
# Default: names,emailAddresses,phoneNumbers,addresses,organizations,birthdays
# Available fields: https://developers.google.com/people/api/rest/v1/people#Person
PERSON_FIELDS=names,emailAddresses,phoneNumbers,addresses,organizations,birthdays

# Number of contacts per API request (max 1000)
# Default: 1000
PAGE_SIZE=1000

# -----------------------------------------------------------------------------
# Production Notes
# -----------------------------------------------------------------------------
# For production deployment:
# 1. Set POSTGRES_PASSWORD to a strong random value
# 2. Set ENCRYPTION_KEY to a strong random value
# 3. Set DOMAIN to your actual domain name
# 4. Set PROTOCOL=https
# 5. Consider setting GOOGLE_OAUTH_REDIRECT_URI and MICROSOFT_OAUTH_REDIRECT_URI explicitly
# 6. Set FLASK_SECRET_KEY to a strong random value
# 7. Ensure credentials files are properly mounted/available
# 8. For Docker Compose deployment, set POSTGRES_HOST=postgres